// Test if Gemini API is actually being used

const improvedGeminiService = require('./services/improvedGeminiService');

async function testGeminiWorking() {
  console.log('ü§ñ TESTING IF GEMINI AI IS WORKING');
  console.log('='*50);
  
  const skills = ['Mobile Development', 'Data Science'];
  
  for (const skill of skills) {
    console.log(`\nüì± Testing: ${skill}`);
    console.log('-'*30);
    
    try {
      const result = await improvedGeminiService.generateAnalytics(skill, 'India');
      
      if (result.success) {
        console.log(`‚úÖ Generated by: ${result.generatedBy}`);
        console.log(`   Skill: ${result.data.skill}`);
        console.log(`   Salary: ${result.data.marketOverview?.averageSalary}`);
        console.log(`   Growth: ${result.data.marketOverview?.growthRate}`);
        
        if (result.generatedBy === 'Gemini AI') {
          console.log('üéâ SUCCESS: Using real Gemini AI!');
        } else {
          console.log('‚ö†Ô∏è Using fallback data, not Gemini');
        }
      } else {
        console.log(`‚ùå Failed for ${skill}`);
      }
    } catch (error) {
      console.error(`‚ùå Error:`, error.message);
    }
  }
  
  console.log('\n' + '='*50);
  console.log('üîç SUMMARY:');
  console.log('If you see "Gemini AI" - system is using real AI data');
  console.log('If you see "Enhanced Fallback System" - using fallback data');
}

testGeminiWorking().catch(console.error);
